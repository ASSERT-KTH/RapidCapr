{
    "patch": "    public static boolean equal(GeneralPath p1, GeneralPath p2) {\n        if (p1 == null) {\n            return (p2 == null);\n        }\n        if (p2 == null) {\n            return false;\n        }\n        if (p1.getWindingRule() != p2.getWindingRule()) {\n            return false;\n        }\n        PathIterator iterator1 = p1.getPathIterator(null);\n        PathIterator iterator2 = p2.getPathIterator(null);\n        int numSegments1 = countPathSegments(iterator1);\n        int numSegments2 = countPathSegments(iterator2);\n        if (numSegments1 != numSegments2) {\n            return false;\n        }\n        iterator1 = p1.getPathIterator(null);\n        iterator2 = p2.getPathIterator(null);\n        double[] d1 = new double[6];\n        double[] d2 = new double[6];\n        boolean done = iterator1.isDone() && iterator2.isDone();\n        while (!done) {\n            if (iterator1.isDone() != iterator2.isDone()) {\n                return false;\n            }\n            int seg1 = iterator1.currentSegment(d1);\n            int seg2 = iterator2.currentSegment(d2);\n            if (seg1 != seg2) {\n                return false;\n            }\n            if (!Arrays.equals(d1, d2)) {\n                return false;\n            }\n            iterator1.next();\n            iterator2.next();\n            done = iterator1.isDone() && iterator2.isDone();\n        }\n        return true;\n    }\n\n    private static int countPathSegments(PathIterator iterator) {\n        int count = 0;\n        while (!iterator.isDone()) {\n            count++;\n            iterator.next();\n        }\n        return count;\n    }",
    "patch_diff": "diff --git a/source/org/jfree/chart/util/ShapeUtilities.java b/source/org/jfree/chart/util/ShapeUtilities.java\nindex 31aa6c6..aa5a9c8 100644\n--- a/source/org/jfree/chart/util/ShapeUtilities.java\n+++ b/source/org/jfree/chart/util/ShapeUtilities.java\n@@ -272,7 +272,55 @@ public class ShapeUtilities {\n             return false;\n         }\n         PathIterator iterator1 = p1.getPathIterator(null);\n-        PathIterator iterator2 = p1.getPathIterator(null);\n+    public static boolean equal(GeneralPath p1, GeneralPath p2) {\n+        if (p1 == null) {\n+            return (p2 == null);\n+        }\n+        if (p2 == null) {\n+            return false;\n+        }\n+        if (p1.getWindingRule() != p2.getWindingRule()) {\n+            return false;\n+        }\n+        PathIterator iterator1 = p1.getPathIterator(null);\n+        PathIterator iterator2 = p2.getPathIterator(null);\n+        int numSegments1 = countPathSegments(iterator1);\n+        int numSegments2 = countPathSegments(iterator2);\n+        if (numSegments1 != numSegments2) {\n+            return false;\n+        }\n+        iterator1 = p1.getPathIterator(null);\n+        iterator2 = p2.getPathIterator(null);\n+        double[] d1 = new double[6];\n+        double[] d2 = new double[6];\n+        boolean done = iterator1.isDone() && iterator2.isDone();\n+        while (!done) {\n+            if (iterator1.isDone() != iterator2.isDone()) {\n+                return false;\n+            }\n+            int seg1 = iterator1.currentSegment(d1);\n+            int seg2 = iterator2.currentSegment(d2);\n+            if (seg1 != seg2) {\n+                return false;\n+            }\n+            if (!Arrays.equals(d1, d2)) {\n+                return false;\n+            }\n+            iterator1.next();\n+            iterator2.next();\n+            done = iterator1.isDone() && iterator2.isDone();\n+        }\n+        return true;\n+    }\n+\n+    private static int countPathSegments(PathIterator iterator) {\n+        int count = 0;\n+        while (!iterator.isDone()) {\n+            count++;\n+            iterator.next();\n+        }\n+        return count;\n+    }\n         double[] d1 = new double[6];\n         double[] d2 = new double[6];\n         boolean done = iterator1.isDone() && iterator2.isDone();",
    "result_reason": "error: illegal start of expression",
    "test_result": "ERROR"
}