{
    "patch": "ObjectType objectType =\n        ObjectType.cast(dereference(getprop.getFirstChild().getJSType()));\n    String propertyName = getprop.getLastChild().getString();\n\n    if (objectType != null) {\n      // Is this a normal property access, or are we trying to override\n      // an existing property?\n      boolean isOverride =\n          getprop.isGetProp() && !getprop.getLastChild().isThis() &&\n          parent.getType() == Token.ASSIGN &&\n          parent.getFirstChild() == getprop;\n\n      // Find the lowest property defined on a class with visibility\n      // information.\n      if (isOverride) {\n        // Determine whether this is an override of a private variable.\n        // This is necessary to determine whether we need to enforce PRIVATE_OVERRIDE or\n        // VISIBILITY_MISMATCH.\n        for (ObjectType currentObjType : objectType.getTypeHierarchy()) {\n          JSDocInfo originalPropInfo =\n              currentObjType.getOwnPropertyJSDocInfo(propertyName);\n          if (originalPropInfo != null) {\n            boolean originalIsPrivate =\n                originalPropInfo.getVisibility() == Visibility.PRIVATE;\n            if (originalIsPrivate) {\n              compiler.report(\n                  t.makeError(getprop, PRIVATE_OVERRIDE, propertyName));\n            }\n            break;\n          }\n        }\n        objectType = objectType.getImplicitPrototype();\n      }\n      JSDocInfo docInfo = null;\n      for (; objectType != null;\n           objectType = objectType.getImplicitPrototype()) {\n        docInfo = objectType.getOwnPropertyJSDocInfo(propertyName);\n        if (docInfo != null &&\n            docInfo.getVisibility() != Visibility.INHERITED) {\n          break;\n        }\n      }",
    "patch_diff": "diff --git a/src/com/google/javascript/jscomp/CheckAccessControls.java b/src/com/google/javascript/jscomp/CheckAccessControls.java\nindex b23fd7af..1fd0cd65 100644\n--- a/src/com/google/javascript/jscomp/CheckAccessControls.java\n+++ b/src/com/google/javascript/jscomp/CheckAccessControls.java\n@@ -413,7 +413,48 @@ class CheckAccessControls implements ScopedCallback, HotSwapCompilerPass {\n     if (objectType != null) {\n       // Is this a normal property access, or are we trying to override\n       // an existing property?\n-      boolean isOverride = t.inGlobalScope() &&\n+ObjectType objectType =\n+        ObjectType.cast(dereference(getprop.getFirstChild().getJSType()));\n+    String propertyName = getprop.getLastChild().getString();\n+\n+    if (objectType != null) {\n+      // Is this a normal property access, or are we trying to override\n+      // an existing property?\n+      boolean isOverride =\n+          getprop.isGetProp() && !getprop.getLastChild().isThis() &&\n+          parent.getType() == Token.ASSIGN &&\n+          parent.getFirstChild() == getprop;\n+\n+      // Find the lowest property defined on a class with visibility\n+      // information.\n+      if (isOverride) {\n+        // Determine whether this is an override of a private variable.\n+        // This is necessary to determine whether we need to enforce PRIVATE_OVERRIDE or\n+        // VISIBILITY_MISMATCH.\n+        for (ObjectType currentObjType : objectType.getTypeHierarchy()) {\n+          JSDocInfo originalPropInfo =\n+              currentObjType.getOwnPropertyJSDocInfo(propertyName);\n+          if (originalPropInfo != null) {\n+            boolean originalIsPrivate =\n+                originalPropInfo.getVisibility() == Visibility.PRIVATE;\n+            if (originalIsPrivate) {\n+              compiler.report(\n+                  t.makeError(getprop, PRIVATE_OVERRIDE, propertyName));\n+            }\n+            break;\n+          }\n+        }\n+        objectType = objectType.getImplicitPrototype();\n+      }\n+      JSDocInfo docInfo = null;\n+      for (; objectType != null;\n+           objectType = objectType.getImplicitPrototype()) {\n+        docInfo = objectType.getOwnPropertyJSDocInfo(propertyName);\n+        if (docInfo != null &&\n+            docInfo.getVisibility() != Visibility.INHERITED) {\n+          break;\n+        }\n+      }\n           parent.getType() == Token.ASSIGN &&\n           parent.getFirstChild() == getprop;\n ",
    "result_reason": "error: not a statement",
    "test_result": "ERROR"
}