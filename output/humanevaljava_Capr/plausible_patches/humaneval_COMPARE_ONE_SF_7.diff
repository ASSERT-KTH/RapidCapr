diff --git a/src/main/java/humaneval/buggy/COMPARE_ONE.java b/src/main/java/humaneval/buggy/COMPARE_ONE.java
index cdf822c..98e0214 100644
--- a/src/main/java/humaneval/buggy/COMPARE_ONE.java
+++ b/src/main/java/humaneval/buggy/COMPARE_ONE.java
@@ -14,24 +14,44 @@ package humaneval.buggy;
  */
 
 public class COMPARE_ONE {
-    public static Object compare_one(Object a, Object b) {
-        double temp_a = 0, temp_b = 0;
-        if(a instanceof String) {
-            String temp_a_string = a.toString();
-            temp_a_string = temp_a_string.replace(',', '.');
-            temp_a = Double.parseDouble(temp_a_string);
+public static Object compare_one(Object a, Object b) {
+    double temp_a = 0, temp_b = 0;
+
+    if(a instanceof String){
+        try{
+            temp_a = Double.parseDouble(((String)a).replace(',', '.'));
+        } catch(NumberFormatException e){
+            temp_a = Double.NEGATIVE_INFINITY;
         }
-        if(b instanceof String) {
-            String temp_b_string = b.toString();
-            temp_b_string = temp_b_string.replace(',', '.');
-            temp_b = Double.parseDouble(temp_b_string);
+    } else if(a instanceof Double){
+        temp_a = ((Double)a).doubleValue();
+    } else if(a instanceof Integer){
+        temp_a = ((Integer)a).doubleValue();
+    }
+
+    if(b instanceof String){
+        try{
+            temp_b = Double.parseDouble(((String)b).replace(',', '.'));
+        } catch(NumberFormatException e){
+            temp_b = Double.NEGATIVE_INFINITY;
         }
-        if(a instanceof Double) temp_a = ((Integer) b).doubleValue();
-        if(b instanceof Double) temp_b = ((Integer) a).doubleValue();
-        if(a instanceof Integer) temp_a = (Double) a;
-        if(b instanceof Integer) temp_b = (Double) b;
-        if(temp_a == temp_b) return null;
-        if(temp_a > temp_b) return a;
-        else return b;
+    } else if(b instanceof Double){
+        temp_b = ((Double)b).doubleValue();
+    } else if(b instanceof Integer){
+        temp_b = ((Integer)b).doubleValue();
     }
+
+    if(temp_a == Double.NEGATIVE_INFINITY){
+        return b;
+    } else if(temp_b == Double.NEGATIVE_INFINITY){
+        return a;
+    } else if(temp_a == temp_b){
+        return null;
+    } else if(temp_a > temp_b){
+        return a;
+    }
+    else{
+        return b;
+    }
+}
 }