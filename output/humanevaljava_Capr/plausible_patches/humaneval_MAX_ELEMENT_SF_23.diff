diff --git a/src/main/java/humaneval/buggy/MAX_ELEMENT.java b/src/main/java/humaneval/buggy/MAX_ELEMENT.java
index e510a0a..070a49a 100644
--- a/src/main/java/humaneval/buggy/MAX_ELEMENT.java
+++ b/src/main/java/humaneval/buggy/MAX_ELEMENT.java
@@ -3,13 +3,31 @@ package humaneval.buggy;
 import java.util.List;
 
 public class MAX_ELEMENT {
-    public static int max_element(List<Integer> l) {
-        int m = 0;
-        for (Integer e : l) {
-            if (e > m){
-                m = e;
-            }
+public static int max_element(List<Integer> l) {
+    if (l == null || l.isEmpty()) {
+        throw new IllegalArgumentException("List is null or empty.");
+    }
+
+    int max = Integer.MIN_VALUE;
+    boolean nullExists = false;
+    for (Integer num : l) {
+        if (num == null) {
+            nullExists = true;
+            continue;
+        }
+        if (num > max) {
+            max = num;
         }
-        return m;
     }
+    
+    if (nullExists && max == Integer.MIN_VALUE) {
+        throw new IllegalArgumentException("List contains only null elements");
+    }
+    
+    if (nullExists && max != Integer.MIN_VALUE) {
+        return max;
+    }
+    
+    return max;
+}
 }