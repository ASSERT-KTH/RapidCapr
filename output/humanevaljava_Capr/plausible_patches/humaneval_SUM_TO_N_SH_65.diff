diff --git a/src/main/java/humaneval/buggy/SUM_TO_N.java b/src/main/java/humaneval/buggy/SUM_TO_N.java
index 319b248..6ab83a0 100644
--- a/src/main/java/humaneval/buggy/SUM_TO_N.java
+++ b/src/main/java/humaneval/buggy/SUM_TO_N.java
@@ -14,6 +14,19 @@ package humaneval.buggy;
 
 public class SUM_TO_N {
     public static int sum_to_n(int n) {
-        return (n + 1) * (n / 2);
+if (n < 1) {
+    return 0;
+} else if (n == 1) {
+    return 1;
+} else {
+    int sum = 0;
+    try {
+        sum = Math.multiplyExact(n, n+1);
+        sum = Math.floorDiv(sum, 2);
+    } catch (ArithmeticException e) {
+        throw new IllegalArgumentException("Integer overflow for large n");
+    }
+    return sum;
+}
     }
 }