diff --git a/src/main/java/humaneval/buggy/CHECK_DICT_CASE.java b/src/main/java/humaneval/buggy/CHECK_DICT_CASE.java
index ba94200..0625ac1 100644
--- a/src/main/java/humaneval/buggy/CHECK_DICT_CASE.java
+++ b/src/main/java/humaneval/buggy/CHECK_DICT_CASE.java
@@ -13,32 +13,43 @@ import java.util.HashMap;
 // check_dict_case({"STATE":"NC", "ZIP":"12345" }) should return True.
 
 public class CHECK_DICT_CASE {
-    public static boolean check_dict_case(HashMap<Object, Object> dict) {
-        if (dict.size() == 0)
-            return false;
-        else {
-            String state = "start";
-            for (Object key : dict.keySet()) {
-                if (!(key instanceof String)) {
-                    state = "mixed";
-                    break;
+public static boolean check_dict_case(HashMap<Object, Object> dict) {
+    if (dict.isEmpty()) {
+        return false;
+    } else {
+        boolean allUpper = true;
+        boolean allLower = true;
+        for (Object key : dict.keySet()) {
+            if (!(key instanceof String)) {
+                return false;
+            }
+            String strKey = (String) key;
+            int length = strKey.length();
+            boolean isUpper = false;
+            boolean isLower = false;
+            for (int i = 0; i < length; i++) {
+                char c = strKey.charAt(i);
+                if (Character.isUpperCase(c)) {
+                    isUpper = true;
+                } else if (Character.isLowerCase(c)) {
+                    isLower = true;
                 }
-                String str_key = (String) key;
-                if (state.equals("start")) {
-                    if (str_key.toUpperCase().equals(str_key))
-                        state = "upper";
-                    else if (str_key.toLowerCase().equals(str_key))
-                        state = "lower";
-                    else {
-                        state = "mixed";
-                        break;
-                    }
-                } else if (state.equals("upper") && !str_key.toUpperCase().equals(str_key)) {
-                    state = "mixed";
+                if (isUpper && isLower) {
                     break;
                 }
             }
-            return (state.equals("upper")) || (state.equals("lower"));
+            if (isUpper && !isLower) {
+                allLower = false;
+            } else if (!isUpper && isLower) {
+                allUpper = false;
+            } else {
+                return false;
+            }
+            if (!allUpper && !allLower) {
+                return false;
+            }
         }
+        return allUpper || allLower;
     }
 }
+}