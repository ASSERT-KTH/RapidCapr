diff --git a/src/main/java/humaneval/buggy/X_OR_Y.java b/src/main/java/humaneval/buggy/X_OR_Y.java
index 5b8c4bf..7b5b42f 100644
--- a/src/main/java/humaneval/buggy/X_OR_Y.java
+++ b/src/main/java/humaneval/buggy/X_OR_Y.java
@@ -8,11 +8,32 @@ for x_or_y(7, 34, 12) == 34
 for x_or_y(15, 8, 5) == 5 */
 
 public class X_OR_Y {
-    public static int x_or_y(int n, int x, int y) {
-        if (n == 1) return y;
-        for (int i = 2; i < n; i += 1) {
-            if (n % i == 0) return x;
+public static boolean isPrime(int n) {
+    if (n <= 1) {
+        return false;
+    }
+    for (int i = 2; i <= Math.sqrt(n); i++) {
+        if (n % i == 0) {
+            return false;
         }
+    }
+    return true;
+}
+
+public static int x_or_y(int n, int x, int y) {
+    if (n == 1) {
         return y;
+    } else if (n == 2) {
+        return x;
+    } else if (isPrime(n)) {
+        return x;
+    } else {
+        for (int i = 2; i <= n/2; i++) {
+            if (n % i == 0) {
+                return y;
+            }
+        }
+        return x;
     }
 }
+}