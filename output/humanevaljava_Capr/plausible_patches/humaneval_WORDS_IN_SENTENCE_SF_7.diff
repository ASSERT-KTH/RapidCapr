diff --git a/src/main/java/humaneval/buggy/WORDS_IN_SENTENCE.java b/src/main/java/humaneval/buggy/WORDS_IN_SENTENCE.java
index 2907f3f..709b5a4 100644
--- a/src/main/java/humaneval/buggy/WORDS_IN_SENTENCE.java
+++ b/src/main/java/humaneval/buggy/WORDS_IN_SENTENCE.java
@@ -19,17 +19,29 @@ Constraints:
     * sentence contains only letters */
 
 public class WORDS_IN_SENTENCE {
-    public static String words_in_sentence(String sentence) {
-        String result = "";
+public static String words_in_sentence(String sentence) {
+    StringBuilder result = new StringBuilder();
 
-        for (String word : sentence.split(" ")) {
-            int flag = 0;
-            for (int i = 2; i < word.length(); i += 1){
-                if (word.length() % i == 0) flag = 1;
+    for (String word : sentence.split(" ")) {
+        boolean isPrime = true;
+        if (word.length() == 2 || word.length() == 3) {
+            result.append(word).append(" ");
+            continue;
+        }
+        if (word.length() % 2 == 0) {
+            isPrime = false;
+        } else {
+            for (int i = 3; i <= Math.sqrt(word.length()); i += 2) {
+                if (word.length() % i == 0) {
+                    isPrime = false;
+                    break;
+                }
             }
-            if (flag == 0 || word.length() == 2)
-                result += word + " ";
         }
-        return result.trim();
+        if (isPrime && word.length() > 1) {
+            result.append(word).append(" ");
+        }
     }
+    return result.toString().trim();
+}
 }