diff --git a/src/main/java/humaneval/buggy/CORRECT_BRACKETING.java b/src/main/java/humaneval/buggy/CORRECT_BRACKETING.java
index 2df59fe..6f0f117 100644
--- a/src/main/java/humaneval/buggy/CORRECT_BRACKETING.java
+++ b/src/main/java/humaneval/buggy/CORRECT_BRACKETING.java
@@ -13,16 +13,26 @@ True
 False */
 
 public class CORRECT_BRACKETING {
-    public static boolean correct_bracketing(String brackets) {
-        int depth = 0;
-        for (char b : brackets.toCharArray()) {
-            if (b == '<')
-                depth += 1;
-            else
-                depth -= 1;
-            if (depth >= 0)
-                return true;
+public static boolean correct_bracketing(String brackets) {
+    if (brackets == null || brackets.isEmpty()) {
+        return true;
+    }
+    int openCount = 0;
+    int closeCount = 0;
+    boolean inString = false;
+    for (int i = 0; i < brackets.length(); i++) {
+        char c = brackets.charAt(i);
+        if (c == '<' && !inString) {
+            openCount++;
+        } else if (c == '>' && !inString) {
+            closeCount++;
+            if (closeCount > openCount) {
+                return false;
+            }
+        } else if (c == '"' && (i == 0 || brackets.charAt(i-1) != '\\')) {
+            inString = !inString;
         }
-        return false;
     }
+    return openCount == closeCount;
+}
 }