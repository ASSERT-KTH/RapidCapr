diff --git a/src/main/java/humaneval/buggy/PARSE_NESTED_PARENS.java b/src/main/java/humaneval/buggy/PARSE_NESTED_PARENS.java
index 6bc914f..76dbff9 100644
--- a/src/main/java/humaneval/buggy/PARSE_NESTED_PARENS.java
+++ b/src/main/java/humaneval/buggy/PARSE_NESTED_PARENS.java
@@ -4,22 +4,34 @@ import java.util.ArrayList;
 import java.util.List;
 
 public class PARSE_NESTED_PARENS {
-    public static List<Integer> parse_nested_parens(String paren_string) {
-        String[] paren_groups = paren_string.split(" ");
-        List<Integer> result = new ArrayList<Integer>();
+public static List<Integer> parse_nested_parens(String paren_string) {
+    String[] paren_groups = paren_string.split(" ");
+    List<Integer> result = new ArrayList<Integer>();
 
-        for (String paren_group : paren_groups) {
-            int depth = 0;
-            int max_depth = 0;
-            for (char c : paren_group.toCharArray()){
-                if (c == '('){
-                    depth += 1;
-                    max_depth = Math.max(depth, max_depth);
+    for (String paren_group : paren_groups) {
+        int count = 0, max_count = 0;
+        for (char c : paren_group.toCharArray()) {
+            if (c == '(') {
+                count++;
+                max_count = Math.max(max_count, count);
+            } else if (c == ')') {
+                count--;
+                if (count < 0) {
+                    result.add(-1);
+                    break;
                 }
+            } else if (c != ' ') {
+                result.add(-1);
+                break;
             }
-            result.add(max_depth);
         }
-
-        return result;
+        if (count == 0) {
+            result.add(max_count);
+        } else {
+            result.add(-1);
+        }
     }
+
+    return result;
+}
 }