diff --git a/src/main/java/humaneval/buggy/EXCHANGE.java b/src/main/java/humaneval/buggy/EXCHANGE.java
index f6c900f..72cb69c 100644
--- a/src/main/java/humaneval/buggy/EXCHANGE.java
+++ b/src/main/java/humaneval/buggy/EXCHANGE.java
@@ -17,17 +17,45 @@ import java.util.ArrayList;
  */
 
 public class EXCHANGE {
-    public static String exchange(ArrayList<Integer> lst1, ArrayList<Integer> lst2) {
-        int odd = 0, even = 0;
-        for(int i : lst2) {
-            if((i % 2) == 1) even++;
-        }
-        for(int i : lst2) {
-            if((i % 2) == 0) even++;
+public static String exchange(ArrayList<Integer> lst1, ArrayList<Integer> lst2) {
+    int evenCountLst1 = 0, oddCountLst1 = 0, evenCountLst2 = 0, oddCountLst2 = 0;
+
+    for (int num : lst1) {
+        if (num % 2 == 0) {
+            evenCountLst1++;
+        } else {
+            oddCountLst1++;
         }
-        if(even >= odd) {
-            return "YES";
+    }
+
+    for (int num : lst2) {
+        if (num % 2 == 0) {
+            evenCountLst2++;
+        } else {
+            oddCountLst2++;
         }
+    }
+
+    // If both lists are empty
+    if (lst1.isEmpty() && lst2.isEmpty()) {
+        return "NO";
+    }
+
+    // If lst1 is empty
+    if (lst1.isEmpty()) {
+        return (oddCountLst2 == 0) ? "YES" : "NO";
+    }
+
+    // If lst2 is empty
+    if (lst2.isEmpty()) {
+        return (oddCountLst1 == 0) ? "YES" : "NO";
+    }
+
+    // If neither list is empty
+    if (oddCountLst1 <= evenCountLst2 && oddCountLst2 <= evenCountLst1) {
+        return "YES";
+    } else {
         return "NO";
     }
 }
+}