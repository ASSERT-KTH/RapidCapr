diff --git a/src/main/java/humaneval/buggy/GENERATE_INTEGERS.java b/src/main/java/humaneval/buggy/GENERATE_INTEGERS.java
index 8d523c9..7da6503 100644
--- a/src/main/java/humaneval/buggy/GENERATE_INTEGERS.java
+++ b/src/main/java/humaneval/buggy/GENERATE_INTEGERS.java
@@ -12,8 +12,17 @@ import java.util.ArrayList;
 
 public class GENERATE_INTEGERS {
     public static ArrayList<Integer> generate_integers(int a, int b) {
-        int lower = Math.max(2, a);
-        int upper = Math.min(8, b);
+int lower = Math.min(Math.max(2, a), Math.max(2, b));
+int upper = Math.min(8, Math.max(a + b - lower, lower + 2));
+if (lower % 2 != 0) {
+    lower++;
+}
+if (upper > 8) {
+    upper = 8;
+}
+if (lower >= upper) {
+    return new ArrayList<Integer>();
+}
 
         ArrayList<Integer> result = new ArrayList<Integer>();
         for (int i = lower; i <= upper; i += 1) {