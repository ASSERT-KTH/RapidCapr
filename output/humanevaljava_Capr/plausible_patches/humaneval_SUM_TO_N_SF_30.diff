diff --git a/src/main/java/humaneval/buggy/SUM_TO_N.java b/src/main/java/humaneval/buggy/SUM_TO_N.java
index 319b248..5c7be6c 100644
--- a/src/main/java/humaneval/buggy/SUM_TO_N.java
+++ b/src/main/java/humaneval/buggy/SUM_TO_N.java
@@ -13,7 +13,11 @@ package humaneval.buggy;
 1 */
 
 public class SUM_TO_N {
-    public static int sum_to_n(int n) {
-        return (n + 1) * (n / 2);
+public static int sum_to_n(int n) {
+    if (n < 0) {
+        throw new IllegalArgumentException("n must be a non-negative integer");
     }
+    int sum = n == 0 ? 0 : ((n % 2 == 0) ? ((n / 2) * (n + 1)) : (n * ((n + 1) / 2)));
+    return sum;
+}
 }