diff --git a/src/main/java/humaneval/buggy/LARGEST_DIVISOR.java b/src/main/java/humaneval/buggy/LARGEST_DIVISOR.java
index e93b282..e781828 100644
--- a/src/main/java/humaneval/buggy/LARGEST_DIVISOR.java
+++ b/src/main/java/humaneval/buggy/LARGEST_DIVISOR.java
@@ -1,11 +1,21 @@
 package humaneval.buggy;
 
 public class LARGEST_DIVISOR {
-    public static int largest_divisor(int n) {
-        for (int i = n; i >= 0; i -= 1){
-            if (n % i == 0)
-                return i;
+public static int largest_divisor(int n) {
+    if (n <= 0) {
+        throw new IllegalArgumentException("Input must be positive");
+    }
+    int largest_divisor = 1;
+    for (int i = 1; i <= n / 2; i++) {
+        if (n % i == 0) {
+            largest_divisor = i; // update largest divisor
         }
-        return 1;
     }
+    // check if n is divisible by the largest divisor
+    if (n % largest_divisor == 0) {
+        return largest_divisor;
+    } else {
+        return n;
+    }
+}
 }