{
    "patch": "            if (\"weekyear\".equals(e.getFieldName()) || \"weekOfWeekyear\".equals(e.getFieldName())) {\n                // try again with repaired values\n                DurationField years = DurationFieldType.years().getField(iChrono);\n                DateTimeField weekyears = DateTimeFieldType.weekyear().getField(iChrono);\n                DateTimeField weeks = DateTimeFieldType.weekOfWeekyear().getField(iChrono);\n                long yearValue = years.add(millis, iDefaultYear) - iDefaultYear;\n                int woy = 1, weekValue = 0;\n                for (int i=0; i<count; i++) {\n                    DateTimeField field = savedFields[i].iField;\n                    int fieldValue = savedFields[i].iValue;\n                    if (field == weekyears) {\n                        int weekyearValue = getWeekyearValue(yearValue, fieldValue);\n                        if (woy > 1 && weekyearValue < iDefaultWeekyear) {\n                            throw e;\n                        }\n                        iDefaultWeekyear = weekyearValue;\n                    } else if (field == weeks) {\n                        weekValue = fieldValue;\n                        if (woy > 1 && fieldValue < 1) {\n                            if (firstDayOfWeek == DateTimeConstants.MONDAY && woy == 53) {\n                                // If 1st Jan is Friday, Saturday or Sunday there\n                                // is the *possibility* of a 53rd week...\n                                if (!isIso(firstDayOfYearMillis)) {\n                                    weekValue = 52;\n                                } else if (getWeeksInYear(yearValue) > 52) {\n                                    weekValue = 52;\n                                }\n                            } else {\n                                throw e;\n                            }\n                        } else if (weekValue == 53 && getWeeksInYear(iDefaultWeekyear) == 52) {\n                            throw e;\n                        }\n                    } else {\n                        millis = field.set(millis, fieldValue);\n                        if (field == DateTimeFieldType.weekyear()) {\n                            yearValue = fieldValue - iChrono.weekyear().get(millis);\n                        } else if (field == DateTimeFieldType.year()) {\n                            yearValue = fieldValue - millisOfYear(millis);\n                        } else if (field == DateTimeFieldType.dayOfWeek()) {\n                            int dayOfWeek = getDayOfWeek(millis);\n                            millis += (fieldValue - dayOfWeek) * DateTimeConstants.MILLIS_PER_DAY;\n                        } else if (field == DateTimeFieldType.weekOfWeekyear()) {\n                            woy = fieldValue;\n                        }\n                    }\n                }\n\n                millis = getMillis(iChrono.weekyear().set(millis, iDefaultWeekyear));\n                millis = getMillis(iChrono.weekOfWeekyear().set(millis, weekValue));\n            } else {\n                throw e;",
    "patch_diff": "diff --git a/src/main/java/org/joda/time/format/DateTimeParserBucket.java b/src/main/java/org/joda/time/format/DateTimeParserBucket.java\nindex b985cefd..ffdba8fe 100644\n--- a/src/main/java/org/joda/time/format/DateTimeParserBucket.java\n+++ b/src/main/java/org/joda/time/format/DateTimeParserBucket.java\n@@ -352,6 +352,58 @@ public class DateTimeParserBucket {\n             for (int i = 0; i < count; i++) {\n                 millis = savedFields[i].set(millis, resetFields);\n             }\n+            if (\"weekyear\".equals(e.getFieldName()) || \"weekOfWeekyear\".equals(e.getFieldName())) {\n+                // try again with repaired values\n+                DurationField years = DurationFieldType.years().getField(iChrono);\n+                DateTimeField weekyears = DateTimeFieldType.weekyear().getField(iChrono);\n+                DateTimeField weeks = DateTimeFieldType.weekOfWeekyear().getField(iChrono);\n+                long yearValue = years.add(millis, iDefaultYear) - iDefaultYear;\n+                int woy = 1, weekValue = 0;\n+                for (int i=0; i<count; i++) {\n+                    DateTimeField field = savedFields[i].iField;\n+                    int fieldValue = savedFields[i].iValue;\n+                    if (field == weekyears) {\n+                        int weekyearValue = getWeekyearValue(yearValue, fieldValue);\n+                        if (woy > 1 && weekyearValue < iDefaultWeekyear) {\n+                            throw e;\n+                        }\n+                        iDefaultWeekyear = weekyearValue;\n+                    } else if (field == weeks) {\n+                        weekValue = fieldValue;\n+                        if (woy > 1 && fieldValue < 1) {\n+                            if (firstDayOfWeek == DateTimeConstants.MONDAY && woy == 53) {\n+                                // If 1st Jan is Friday, Saturday or Sunday there\n+                                // is the *possibility* of a 53rd week...\n+                                if (!isIso(firstDayOfYearMillis)) {\n+                                    weekValue = 52;\n+                                } else if (getWeeksInYear(yearValue) > 52) {\n+                                    weekValue = 52;\n+                                }\n+                            } else {\n+                                throw e;\n+                            }\n+                        } else if (weekValue == 53 && getWeeksInYear(iDefaultWeekyear) == 52) {\n+                            throw e;\n+                        }\n+                    } else {\n+                        millis = field.set(millis, fieldValue);\n+                        if (field == DateTimeFieldType.weekyear()) {\n+                            yearValue = fieldValue - iChrono.weekyear().get(millis);\n+                        } else if (field == DateTimeFieldType.year()) {\n+                            yearValue = fieldValue - millisOfYear(millis);\n+                        } else if (field == DateTimeFieldType.dayOfWeek()) {\n+                            int dayOfWeek = getDayOfWeek(millis);\n+                            millis += (fieldValue - dayOfWeek) * DateTimeConstants.MILLIS_PER_DAY;\n+                        } else if (field == DateTimeFieldType.weekOfWeekyear()) {\n+                            woy = fieldValue;\n+                        }\n+                    }\n+                }\n+\n+                millis = getMillis(iChrono.weekyear().set(millis, iDefaultWeekyear));\n+                millis = getMillis(iChrono.weekOfWeekyear().set(millis, weekValue));\n+            } else {\n+                throw e;\n         } catch (IllegalFieldValueException e) {\n             if (text != null) {\n                 e.prependMessage(\"Cannot parse \\\"\" + text + '\"');",
    "result_reason": "error: 'catch' without 'try'",
    "test_result": "ERROR"
}