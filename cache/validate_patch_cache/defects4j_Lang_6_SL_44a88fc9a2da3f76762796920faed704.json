{
    "patch": "private int checkEscaped(int codePoint) {\n    if (Character.isSupplementaryCodePoint(codePoint)) {\n        // Check if the character can be represented using a single escape\n        String s = new String(Character.toChars(codePoint));\n        String escaped = StringEscapeUtils.escapeHtml4(s);\n        if (escaped.length() == 6) { // \"&#XXXXX;\"\n            return codePoint;\n        } else {\n            // Character must be represented using two escapes\n            return escaped.codePointAt(0);\n        }\n    } else {\n        return codePoint;\n    }\n}",
    "patch_diff": "diff --git a/src/main/java/org/apache/commons/lang3/text/translate/CharSequenceTranslator.java b/src/main/java/org/apache/commons/lang3/text/translate/CharSequenceTranslator.java\nindex 4d010eaf..934fff70 100644\n--- a/src/main/java/org/apache/commons/lang3/text/translate/CharSequenceTranslator.java\n+++ b/src/main/java/org/apache/commons/lang3/text/translate/CharSequenceTranslator.java\n@@ -92,7 +92,21 @@ public abstract class CharSequenceTranslator {\n //          // contract with translators is that they have to understand codepoints \n //          // and they just took care of a surrogate pair\n             for (int pt = 0; pt < consumed; pt++) {\n-                pos += Character.charCount(Character.codePointAt(input, pos));\n+private int checkEscaped(int codePoint) {\n+    if (Character.isSupplementaryCodePoint(codePoint)) {\n+        // Check if the character can be represented using a single escape\n+        String s = new String(Character.toChars(codePoint));\n+        String escaped = StringEscapeUtils.escapeHtml4(s);\n+        if (escaped.length() == 6) { // \"&#XXXXX;\"\n+            return codePoint;\n+        } else {\n+            // Character must be represented using two escapes\n+            return escaped.codePointAt(0);\n+        }\n+    } else {\n+        return codePoint;\n+    }\n+}\n             }\n         }\n     }",
    "result_reason": "error: illegal start of expression",
    "test_result": "ERROR"
}