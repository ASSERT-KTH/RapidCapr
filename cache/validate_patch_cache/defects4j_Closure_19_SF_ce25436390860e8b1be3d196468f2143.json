{
    "patch": "  protected void declareNameInScope(FlowScope scope, Node node, JSType type) {\n    switch (node.getToken()) {\n      case NAME:\n        String name = node.getString();\n        scope.inferSlotType(name, type);\n        break;\n\n      case GETPROP:\n        String qualifiedName = node.getQualifiedName();\n        Preconditions.checkNotNull(qualifiedName);\n\n        JSType origType = node.getJSType();\n        origType = origType == null ? getNativeType(UNKNOWN_TYPE) : origType;\n        scope.inferQualifiedSlot(node, qualifiedName, origType, type);\n        break;\n\n      case THIS:\n        break;\n\n      default:\n        throw new IllegalArgumentException(\"Node cannot be refined. \\n\" +\n            node.toStringTree());\n    }\n  }",
    "patch_diff": "diff --git a/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java b/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java\nindex 0345c855..a1134f47 100644\n--- a/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java\n+++ b/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java\n@@ -155,12 +155,13 @@ public abstract class ChainableReverseAbstractInterpreter\n    * the given scope, as determined by {@link #getTypeIfRefinable}.\n    */\n   protected void declareNameInScope(FlowScope scope, Node node, JSType type) {\n-    switch (node.getType()) {\n-      case Token.NAME:\n-        scope.inferSlotType(node.getString(), type);\n+    switch (node.getToken()) {\n+      case NAME:\n+        String name = node.getString();\n+        scope.inferSlotType(name, type);\n         break;\n \n-      case Token.GETPROP:\n+      case GETPROP:\n         String qualifiedName = node.getQualifiedName();\n         Preconditions.checkNotNull(qualifiedName);\n \n@@ -169,7 +170,8 @@ public abstract class ChainableReverseAbstractInterpreter\n         scope.inferQualifiedSlot(node, qualifiedName, origType, type);\n         break;\n \n-        // \"this\" references aren't currently modeled in the CFG.\n+      case THIS:\n+        break;\n \n       default:\n         throw new IllegalArgumentException(\"Node cannot be refined. \\n\" +",
    "result_reason": "error: cannot find symbol",
    "test_result": "ERROR"
}