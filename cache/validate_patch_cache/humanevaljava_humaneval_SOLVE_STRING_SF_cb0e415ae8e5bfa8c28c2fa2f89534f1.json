{
    "patch": "    public static String solve_string(String s) {\n        boolean hasLowerCase = false;\n        boolean hasUpperCase = false;\n        for (char c : s.toCharArray()) {\n            if (Character.isLowerCase(c)) {\n                hasLowerCase = true;\n            } \n            if (Character.isUpperCase(c)) {\n                hasUpperCase = true;\n            }\n        }\n        StringBuilder sb = new StringBuilder();\n        if (hasLowerCase && hasUpperCase) {\n            for (char c : s.toCharArray()) {\n                if (Character.isLowerCase(c)) {\n                    sb.append(Character.toUpperCase(c));\n                } else {\n                    sb.append(Character.toLowerCase(c));\n                }\n            }\n        } else if (hasLowerCase) {\n            for (int i = s.length() - 1; i >= 0; i -= 1) {\n                sb.append(s.charAt(i));\n            }\n        } else {\n            sb.append(s.toLowerCase());\n        }\n        return sb.toString();\n    }",
    "patch_diff": "diff --git a/src/main/java/humaneval/buggy/SOLVE_STRING.java b/src/main/java/humaneval/buggy/SOLVE_STRING.java\nindex e31e9a2..badff84 100644\n--- a/src/main/java/humaneval/buggy/SOLVE_STRING.java\n+++ b/src/main/java/humaneval/buggy/SOLVE_STRING.java\n@@ -12,16 +12,31 @@ package humaneval.buggy;\n \n public class SOLVE_STRING {\n     public static String solve_string(String s) {\n-        int flg = 0;\n-        StringBuilder sb = new StringBuilder();\n+        boolean hasLowerCase = false;\n+        boolean hasUpperCase = false;\n         for (char c : s.toCharArray()) {\n-            if (Character.isLowerCase(c)) sb.append(Character.toUpperCase(c));\n-            else sb.append(Character.toLowerCase(c));\n-            flg = 1;\n+            if (Character.isLowerCase(c)) {\n+                hasLowerCase = true;\n+            } \n+            if (Character.isUpperCase(c)) {\n+                hasUpperCase = true;\n+            }\n         }\n-        if (flg == 0) {\n-            sb = new StringBuilder();\n-            for (int i = s.length() - 1; i >= 0; i -= 1) sb.append(s.charAt(i));\n+        StringBuilder sb = new StringBuilder();\n+        if (hasLowerCase && hasUpperCase) {\n+            for (char c : s.toCharArray()) {\n+                if (Character.isLowerCase(c)) {\n+                    sb.append(Character.toUpperCase(c));\n+                } else {\n+                    sb.append(Character.toLowerCase(c));\n+                }\n+            }\n+        } else if (hasLowerCase) {\n+            for (int i = s.length() - 1; i >= 0; i -= 1) {\n+                sb.append(s.charAt(i));\n+            }\n+        } else {\n+            sb.append(s.toLowerCase());\n         }\n         return sb.toString();\n     }",
    "result_reason": "   TEST_SOLVE_STRING.test_1:15 expected:<[1234]> but was:<[4321]>",
    "test_result": "FAIL"
}