{
    "patch": "import java.math.BigDecimal;\n\npublic class MyClass {\n\n    public static String rounded_avg(int n, int m) {\n        if(m < n) return \"-1\";\n        int summation = 0;\n        for(int i = n; i < m + 1; i++) {\n            summation += i;\n        }\n        BigDecimal avg = new BigDecimal(summation)\n                .divide(new BigDecimal(m - n + 1), 2, BigDecimal.ROUND_HALF_UP);\n        BigDecimal rem = avg.subtract(avg.setScale(0, BigDecimal.ROUND_DOWN));\n        int avg_rounded = 0;\n        if(rem.compareTo(new BigDecimal(\"0.5\")) <= 0) {\n            avg_rounded = avg.setScale(0, BigDecimal.ROUND_DOWN).intValue();\n        } else {\n            avg_rounded = avg.setScale(0, BigDecimal.ROUND_UP).intValue();\n        }\n        return Integer.toBinaryString(avg_rounded);\n    }\n\n}",
    "patch_diff": "diff --git a/src/main/java/humaneval/buggy/ROUNDED_AVG.java b/src/main/java/humaneval/buggy/ROUNDED_AVG.java\nindex 4f7aba3..b3e94cc 100644\n--- a/src/main/java/humaneval/buggy/ROUNDED_AVG.java\n+++ b/src/main/java/humaneval/buggy/ROUNDED_AVG.java\n@@ -22,7 +22,29 @@ public class ROUNDED_AVG {\n         double rem = avg - Math.floor(avg);\n         int avg_rounded = 0;\n         if(rem <= 0.5) {\n-            avg_rounded = (int) Math.ceil(avg);\n+import java.math.BigDecimal;\n+\n+public class MyClass {\n+\n+    public static String rounded_avg(int n, int m) {\n+        if(m < n) return \"-1\";\n+        int summation = 0;\n+        for(int i = n; i < m + 1; i++) {\n+            summation += i;\n+        }\n+        BigDecimal avg = new BigDecimal(summation)\n+                .divide(new BigDecimal(m - n + 1), 2, BigDecimal.ROUND_HALF_UP);\n+        BigDecimal rem = avg.subtract(avg.setScale(0, BigDecimal.ROUND_DOWN));\n+        int avg_rounded = 0;\n+        if(rem.compareTo(new BigDecimal(\"0.5\")) <= 0) {\n+            avg_rounded = avg.setScale(0, BigDecimal.ROUND_DOWN).intValue();\n+        } else {\n+            avg_rounded = avg.setScale(0, BigDecimal.ROUND_UP).intValue();\n+        }\n+        return Integer.toBinaryString(avg_rounded);\n+    }\n+\n+}\n         } else {\n             avg_rounded = (int) Math.ceil(avg);\n         }",
    "result_reason": " /tmp/humaneval-ROUNDED_AVG/src/main/java/humaneval/buggy/ROUNDED_AVG.java:[25,1] illegal start of expression",
    "test_result": "ERROR"
}