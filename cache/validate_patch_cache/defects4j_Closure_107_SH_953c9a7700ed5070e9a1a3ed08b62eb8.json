{
    "patch": "    } else {\n      options.messageBundle = new EmptyMessageBundle();\n    }\n\n    if (flags.processCommonJSModules) {\n      options.setProcessCommonJSModules(true);\n      options.setModuleResolutionMode(\n          CompilerOptions.ModuleResolutionModeNode.NODE);\n      options.setModuleRoots(ImmutableList.copyOf(flags.moduleRoots));\n    }\n\n    if (flags.checksOnly) {\n      level = CompilationLevel.SIMPLE;\n    }\n    setRunOptions(options);\n    return options;\n  }",
    "patch_diff": "diff --git a/src/com/google/javascript/jscomp/CommandLineRunner.java b/src/com/google/javascript/jscomp/CommandLineRunner.java\nindex 93b35475..8ed02dd5 100644\n--- a/src/com/google/javascript/jscomp/CommandLineRunner.java\n+++ b/src/com/google/javascript/jscomp/CommandLineRunner.java\n@@ -859,6 +859,23 @@ public class CommandLineRunner extends\n       // so we might as well inline it. But shut off the i18n warnings,\n       // because the user didn't really ask for i18n.\n       options.messageBundle = new EmptyMessageBundle();\n+    } else {\n+      options.messageBundle = new EmptyMessageBundle();\n+    }\n+\n+    if (flags.processCommonJSModules) {\n+      options.setProcessCommonJSModules(true);\n+      options.setModuleResolutionMode(\n+          CompilerOptions.ModuleResolutionModeNode.NODE);\n+      options.setModuleRoots(ImmutableList.copyOf(flags.moduleRoots));\n+    }\n+\n+    if (flags.checksOnly) {\n+      level = CompilationLevel.SIMPLE;\n+    }\n+    setRunOptions(options);\n+    return options;\n+  }\n     }\n \n     return options;",
    "result_reason": "error: class, interface, or enum expected",
    "test_result": "ERROR"
}