{
    "patch": "public static double[] distribution(double[] data) {\n    if (data == null || data.length == 0 || data.length > MAX_ARRAY_SIZE) {\n        return new double[0];\n    }\n\n    if (data.length == 1) {\n        return new double[] {1.0};\n    }\n\n    Map<Double, Integer> counts = new HashMap<>();\n    for (double value : data) {\n        counts.put(value, counts.getOrDefault(value, 0) + 1);\n    }\n\n    List<Map.Entry<Double, Integer>> entries = new ArrayList<>(counts.entrySet());\n    Collections.sort(entries, Map.Entry.comparingByKey());\n\n    double[] probabilities = new double[data.length];\n    double total = (double) data.length;\n    int i = 0;\n\n    for (Map.Entry<Double, Integer> entry : entries) {\n        double prob = (double) entry.getValue() / total;\n        for (int j = 0; j < entry.getValue(); j++) {\n            probabilities[i++] = prob;\n        }\n    }\n\n    for (i = 1; i < data.length; i++) {\n        if (probabilities[i] - probabilities[i - 1] < 1e-12) {\n            probabilities[i] = probabilities[i - 1];\n        }\n    }\n\n    return probabilities;\n}",
    "patch_diff": "",
    "result_reason": "Test timed out after 600 seconds",
    "test_result": "ERROR"
}