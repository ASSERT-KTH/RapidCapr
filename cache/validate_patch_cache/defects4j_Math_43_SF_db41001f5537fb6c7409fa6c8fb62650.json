{
    "patch": "The following code should fix the bug:\n```\npublic void addValue(double value) {\n    sumImpl.increment(value);\n    sumsqImpl.increment(value);\n    minImpl.increment(value);\n    maxImpl.increment(value);\n    sumLogImpl.increment(value);\n    secondMoment.increment(value);\n    // If mean, variance or geomean have been overridden,\n    // need to increment these\n    if (!(meanImpl instanceof Mean)) {\n        meanImpl.increment(value);\n    } else {\n        ((Mean) meanImpl).increment(value);\n    }\n    if (!(varianceImpl instanceof Variance)) {\n        varianceImpl.increment(value);\n    } else {\n        ((Variance) varianceImpl).increment(value);\n    }\n    if (!(geoMeanImpl instanceof GeometricMean)) {\n        geoMeanImpl.increment(value);\n    } else {\n        ((GeometricMean) geoMeanImpl).increment(value);\n    }\n    n++;\n}\n```\nThe problem was that if the mean, variance or geometric mean had been overridden, the original implementation (`Mean`, `Variance`, or `GeometricMean`) was not being used to increment the value. The code above checks whether the original implementation is being used, and if not, it casts the implementation to the appropriate class to allow it to be incremented correctly.",
    "patch_diff": "diff --git a/src/main/java/org/apache/commons/math/stat/descriptive/SummaryStatistics.java b/src/main/java/org/apache/commons/math/stat/descriptive/SummaryStatistics.java\nindex 1203d516c..98524023c 100644\n--- a/src/main/java/org/apache/commons/math/stat/descriptive/SummaryStatistics.java\n+++ b/src/main/java/org/apache/commons/math/stat/descriptive/SummaryStatistics.java\n@@ -146,26 +146,36 @@ public class SummaryStatistics implements StatisticalSummary, Serializable {\n      * Add a value to the data\n      * @param value the value to add\n      */\n-    public void addValue(double value) {\n-        sumImpl.increment(value);\n-        sumsqImpl.increment(value);\n-        minImpl.increment(value);\n-        maxImpl.increment(value);\n-        sumLogImpl.increment(value);\n-        secondMoment.increment(value);\n-        // If mean, variance or geomean have been overridden,\n-        // need to increment these\n-        if (!(meanImpl instanceof Mean)) {\n-            meanImpl.increment(value);\n-        }\n-        if (!(varianceImpl instanceof Variance)) {\n-            varianceImpl.increment(value);\n-        }\n-        if (!(geoMeanImpl instanceof GeometricMean)) {\n-            geoMeanImpl.increment(value);\n-        }\n-        n++;\n-    }\n+The following code should fix the bug:\n+```\n+public void addValue(double value) {\n+    sumImpl.increment(value);\n+    sumsqImpl.increment(value);\n+    minImpl.increment(value);\n+    maxImpl.increment(value);\n+    sumLogImpl.increment(value);\n+    secondMoment.increment(value);\n+    // If mean, variance or geomean have been overridden,\n+    // need to increment these\n+    if (!(meanImpl instanceof Mean)) {\n+        meanImpl.increment(value);\n+    } else {\n+        ((Mean) meanImpl).increment(value);\n+    }\n+    if (!(varianceImpl instanceof Variance)) {\n+        varianceImpl.increment(value);\n+    } else {\n+        ((Variance) varianceImpl).increment(value);\n+    }\n+    if (!(geoMeanImpl instanceof GeometricMean)) {\n+        geoMeanImpl.increment(value);\n+    } else {\n+        ((GeometricMean) geoMeanImpl).increment(value);\n+    }\n+    n++;\n+}\n+```\n+The problem was that if the mean, variance or geometric mean had been overridden, the original implementation (`Mean`, `Variance`, or `GeometricMean`) was not being used to increment the value. The code above checks whether the original implementation is being used, and if not, it casts the implementation to the appropriate class to allow it to be incremented correctly.\n \n     /**\n      * Returns the number of available values",
    "result_reason": "error: ';' expected",
    "test_result": "ERROR"
}