{
    "patch": "case ']':\n  if ((i + 2) < s.length() && s.charAt(i+1) == ']' && s.charAt(i+2) == '>') {\n    sb.append(\"\\\\]\\\\]>\");\n    i+=2;\n  } else {\n    sb.append(c);\n  }\n  break;",
    "patch_diff": "diff --git a/src/com/google/javascript/jscomp/CodeGenerator.java b/src/com/google/javascript/jscomp/CodeGenerator.java\nindex 6117a89b..6c0092c1 100644\n--- a/src/com/google/javascript/jscomp/CodeGenerator.java\n+++ b/src/com/google/javascript/jscomp/CodeGenerator.java\n@@ -1012,7 +1012,14 @@ class CodeGenerator {\n     for (int i = 0; i < s.length(); i++) {\n       char c = s.charAt(i);\n       switch (c) {\n-        case '\\0': sb.append(\"\\\\0\"); break;\n+case ']':\n+  if ((i + 2) < s.length() && s.charAt(i+1) == ']' && s.charAt(i+2) == '>') {\n+    sb.append(\"\\\\]\\\\]>\");\n+    i+=2;\n+  } else {\n+    sb.append(c);\n+  }\n+  break;\n         case '\\n': sb.append(\"\\\\n\"); break;\n         case '\\r': sb.append(\"\\\\r\"); break;\n         case '\\t': sb.append(\"\\\\t\"); break;",
    "result_reason": "junit.framework.ComparisonFailure: expected:<\"[]]\\]>\"> but was:<\"[\\]\\]]>\">",
    "test_result": "FAIL"
}